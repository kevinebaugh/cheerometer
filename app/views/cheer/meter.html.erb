<div class="h-screen w-screen bg-gradient-to-br from-red-500 via-pink-500 to-purple-600 p-2 sm:p-4 md:p-8 relative overflow-hidden flex flex-col" data-controller="confetti">
  <h1 class="text-2xl sm:text-4xl md:text-6xl font-bold text-white text-center mb-2 sm:mb-4 md:mb-8 drop-shadow-lg flex-shrink-0">ðŸŽ„ Cheer-O-Meter ðŸŽ„</h1>

  <div class="flex justify-center items-center flex-1 min-h-0">
    <div
      data-controller="gauge"
      data-gauge-score-value="<%= @score %>"
      class="gauge-container relative w-full max-w-[90vw] max-h-[50vh]"
    >
      <svg width="100%" height="100%" viewBox="0 0 300 180" class="gauge-svg" preserveAspectRatio="xMidYMid meet">
        <!-- Background arc -->
        <path
          class="gauge-background"
          d="M 50 150 A 100 100 0 0 1 250 150"
          fill="none"
          stroke="#ffffff"
          stroke-width="30"
          stroke-linecap="round"
          opacity="0.3"
        />
        <!-- Gauge fill arc -->
        <path
          class="gauge-fill"
          d="M 50 150 A 100 100 0 0 1 250 150"
          fill="none"
          stroke="#10b981"
          stroke-width="30"
          stroke-linecap="round"
          stroke-dasharray="314.16"
          stroke-dashoffset="314.16"
          style="transition: stroke-dashoffset 0.5s ease-out; filter: drop-shadow(0 0 10px rgba(16, 185, 129, 0.5));"
        />
      </svg>
      <!-- Score display -->
      <div class="absolute bottom-8 sm:bottom-12 md:bottom-16 left-1/2 transform -translate-x-1/2 text-center px-4 sm:px-8 md:px-12 py-2 sm:py-4 md:py-8">
        <div class="text-5xl sm:text-7xl md:text-9xl font-bold text-white gauge-score drop-shadow-2xl"><%= @score %></div>
      </div>
    </div>
  </div>

  <!-- Hidden list for initial data -->
  <ul class="recent-cheers-list hidden">
    <% @recent_cheers_data.each do |cheer| %>
    <li data-location="<%= format_location(cheer["city"], cheer["country"], cheer["id"] || cheer["created_at"]) %>"></li>
    <% end %>
  </ul>

  <!-- Container for flying location elements -->
  <div class="flying-locations-container fixed inset-0 pointer-events-none z-10"></div>
</div>
